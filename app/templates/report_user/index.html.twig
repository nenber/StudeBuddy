{% extends 'base.html.twig' %}

{% block title %}Signaler un utilisateur
{% endblock %}

{% block body %}
        <div class="mb-5">
            <h1>Signaler un utilisateur
            </h1>
            <hr>
        </div>
        {% set value = false %}
        {% for user in users %}
            {% if user.reportedBy is not null and app.user.id == user.reportedBy.id %}
                {% set value = true %}
            {% endif %}
        {% endfor %}
        {% if value == false %}
            {{ form_start(form) }}
                <div class="circle-right"></div>
                    <div class="container">
                    <div class="row form-group">
                        <div class="col-xl-6">
                            <div class="mb-xl-5 mb-2">
                                {{ form_label(form.report_reason, "Raison :") }}
                                {{ form_widget(form.report_reason, {
                                    'attr': {'placeholder': "Raison du signalement", 'class' : 'form-control'}
                                }) }}
                                {{ form_errors(form.report_reason) }}
                            <br>
                            * Veuillez entrer un message entre 10 et 200 caractères.
                            </div>    
                            
                    </div>
                        En cliquant sur "Valider", vous acceptez que nous accédions à votre conversation afin de vérifier les faits.
                        <div class="row container-button mt-5">
                        <div class="edit-profil">
                            <button class="btn-l green">Valider</button>
                        </div>
                    </div>
                    <div class="circle-left"></div>
                    </div>
                </div>
            {{ form_end(form) }}
        {% else %}
            <div>
                <div class="alert alert-danger text-center">Afin d'éviter les signalements abusifs, tu seras autorisé(e) à signaler un utilisateur lorsque nous aurons étudié ton signalement précédent.</div>
            </div>
        {% endif %}
{% endblock %}
